(this["webpackJsonpreact-time-input-polyfill"]=this["webpackJsonpreact-time-input-polyfill"]||[]).push([[0],{245:function(t,e,n){"use strict";n.r(e);var l=n(0),r=n.n(l),i=n(28),a=n.n(i),u=(n(44),n(5)),o=(n(45),n(37)),s=n(13),c=n(29),m=n(30),p=n(36),h=n(31),f=n(38),y=n(14),v=n.n(y),g=n(32),d=n.n(g);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,l)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(n,!0).forEach((function(e){Object(s.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w=!1,k=function(t){if(isNaN(t))return t;var e=parseInt(t);return e<10?"0"+e:t};window.addEventListener("keyup",(function(t){return w=t.shiftKey})),window.addEventListener("keydown",(function(t){return w=t.shiftKey}));var P,S=!1,E=document.createElement("style");E.innerHTML=".".concat("react-time-input-polyfill-target","::-ms-clear { display: none; }"),document.getElementsByTagName("head")[0].appendChild(E);var I=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(p.a)(this,Object(h.a)(e).call(this,t))).$input=r.a.createRef(),n.focused_via_click=!1,n.state={time:{hrs:"--",min:"--",mode:"--"},value24hr:t.value||"",currentSegment:null,usePolyfill:!v.a,forcedValue:null},n}return Object(f.a)(e,t),Object(m.a)(e,[{key:"onPolyfillLoad",value:function(t){this.polyfill=t,this.setState({usePolyfill:!0,time:this.polyfill.get_values_from_24hr(this.state.value24hr)}),S||(P=this.polyfill.create_a11y_block(),S=!0),this.manual_entry_log={hrs:new this.polyfill.manual_entry_log,min:new this.polyfill.manual_entry_log};var e=this.$input.current;e.polyfill={label:this.polyfill.get_label(e),$a11y:P}}},{key:"update_a11y",value:function(t){if(!this.state.usePolyfill)return null;this.polyfill.update_a11y(this.$input.current,t)}},{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){var e;t.flash24hrTime=(e=t,function(){e.state.usePolyfill&&(e.setState({forcedValue:e.state.value24hr}),setTimeout((function(){return e.setState({forcedValue:null})}),1))}),t.$input.current.form&&t.$input.current.form.addEventListener("submit",t.flash24hrTime)}),0),!this.props.forcePolyfill&&v.a||function(t,e){if(window.timePolyfillHelpers)return e(),null;d()(t||"https://cdn.jsdelivr.net/npm/react-time-input-polyfill@1/dist/timePolyfillHelpers.js",e)}(this.props.polyfillSource,(function(){t.onPolyfillLoad(window.timePolyfillHelpers)}))}},{key:"componentWillUnmount",value:function(){this.$input.current.form&&this.$input.current.form.removeEventListener("submit",this.flash24hrTime)}},{key:"componentDidUpdate",value:function(t,e){var n=t.value!==this.props.value,l=e.value24hr!==this.state.value24hr;if(!n&&!l)return null;l?this.onTimeChange():n&&this.set_time(this.props.value)}},{key:"set_time",value:function(t){var e=t.split(":").map((function(t){return isNaN(t)?t:parseInt(t)})),n=Object(u.a)(e,2),l=n[0],r=n[1],i=this.state.usePolyfill?{hrs:this.polyfill.convert_hours_to_12hr_time(l),min:r,mode:l>12?"PM":"AM"}:null;this.setState({time:this.state.usePolyfill?t?i:this.state.time:null,value24hr:t})}},{key:"nudge_current_segment",value:function(t){var e=this,n=this.state.currentSegment,l=this.state.time,r={},i="up"===t?1:-1;if("--"===l[n]){var a=function(){return new Date};r={hrs:function(){return e.polyfill.convert_hours_to_12hr_time(a().getHours())},min:function(){return a().getMinutes()},mode:function(){return a().getHours()>11?"PM":"AM"}}}else{var u={up:l.min<59?l.min+i:0,down:0===l.min?59:l.min+i};r={hrs:function(){return e.polyfill.convert_hours_to_12hr_time(l.hrs+i)},min:function(){return u[t]},mode:function(){return"AM"===l.mode?"PM":"AM"}}}this.set_segment(n,r[n]())}},{key:"get_12hr_value",value:function(t){var e=t||this.state.time;return e?[k(e.hrs),":",k(e.min)," ",e.mode].join(""):""}},{key:"set_segment",value:function(t,e){var n=b({},this.state.time,Object(s.a)({},t,isNaN(e)?e:parseInt(e))),l=this.get_12hr_value(n),r=this.polyfill.convert_to_24hr_time(l);this.setState({time:n,value24hr:r})}},{key:"traverse_segments",value:function(t){var e=this,n=this.polyfill.segments,l="left"==t?-1:1,r=n.indexOf(this.state.currentSegment)+l,i=n[r<=0?0:r>=2?2:r];this.clear_entry_log(),this.setState({currentSegment:i}),setTimeout((function(){e.update_a11y(["select"])}),0)}},{key:"clear_entry_log",value:function(){var t=this.state.currentSegment;"mode"!==t&&this.manual_entry_log[t].clear()}},{key:"next_segment",value:function(){this.traverse_segments("right")}},{key:"prev_segment",value:function(){this.traverse_segments("left")}},{key:"clear_current_segment",value:function(){this.set_segment(this.state.currentSegment,"--")}},{key:"onTimeChange",value:function(){var t=this;this.props.onChange&&this.props.onChange({value:this.state.value24hr,element:this.$input.current}),setTimeout((function(){t.update_a11y(["update"])}),0)}},{key:"handleChange",value:function(t){if(this.state.usePolyfill)return null;this.setState({value24hr:t.target.value})}},{key:"handleMouseDown",value:function(t){this.props.onMouseDown&&this.props.onMouseDown(t),this.focused_via_click=!0,this.$input.current.matches(":focus")&&this.update_a11y(["select"])}},{key:"handleClick",value:function(t){if(this.props.onClick&&this.props.onClick(t),!this.state.usePolyfill)return null;this.polyfill.select_cursor_segment(this.$input.current),this.setState({currentSegment:this.polyfill.get_current_segment(this.$input.current)})}},{key:"handleFocus",value:function(t){if(this.props.onFocus&&this.props.onFocus(t),!this.state.usePolyfill)return null;var e=w?"mode":"hrs";this.focused_via_click||this.setState({currentSegment:e}),this.update_a11y(["initial","select"])}},{key:"handleBlur",value:function(t){this.props.onBlur&&this.props.onBlur(t),this.focused_via_click=!1,this.setState({currentSegment:null})}},{key:"handleTab",value:function(t){t.shiftKey&&"hrs"!==this.state.currentSegment?(t.preventDefault(),this.prev_segment()):t.shiftKey||"mode"===this.state.currentSegment||(t.preventDefault(),this.next_segment())}},{key:"handleKeyDown",value:function(t){var e=this;if(this.props.onKeyDown&&this.props.onKeyDown(t),!this.state.usePolyfill)return null;var n=t.key,l={ArrowRight:function(){return e.next_segment()},ArrowLeft:function(){return e.prev_segment()},ArrowUp:function(){return e.nudge_current_segment("up")},ArrowDown:function(){return e.nudge_current_segment("down")},Delete:function(){return e.clear_current_segment()},Backspace:function(){return e.clear_current_segment()},numberKey:function(){return e.enter_number(t.key)},A_or_P:function(){return e.enter_A_or_P(t.key)}},r=/\d/.test(t.key),i=/[ap]/i.test(t.key);"Tab"===n?this.handleTab(t):l[n]?(t.preventDefault(),l[n]()):r?l.numberKey():i?l.A_or_P():"Escape"!==n&&t.preventDefault()}},{key:"enter_A_or_P",value:function(t){var e=/a/i.test(t);this.set_segment("mode",e?"AM":"PM")}},{key:"enter_number",value:function(t){var e=this.state.currentSegment,n=parseInt(t),l=this.manual_entry_log[e],r=l.items.length,i={hrs:[1,2],min:[5,9]},a=i[e][r];r<2&&l.add(n);var u=parseInt(i[e].join("")),o=parseInt(l.items.join(""));u>=o&&this.set_segment(e,o),(n>a||2===l.items.length)&&this.next_segment()}},{key:"render",value:function(){var t=this,e=this.props,n=(e.value,e.forcePolyfill,e.className),l=(e.polyfillSource,Object(o.a)(e,["value","forcePolyfill","className","polyfillSource"])),i=this.state,a=i.usePolyfill,u=i.value24hr,s=i.currentSegment,c=i.forcedValue,m=a?this.get_12hr_value():null;if(a&&null!==s){setTimeout((function(){return t.polyfill.select_segment(t.$input.current,s)}),0)}var p=this.state.usePolyfill?"react-time-input-polyfill-target":"";return r.a.createElement("input",b({},l,{onChange:function(e){return t.handleChange(e)},onFocus:function(e){return t.handleFocus(e)},onBlur:function(e){return t.handleBlur(e)},onMouseDown:function(e){return t.handleMouseDown(e)},onClick:function(e){return t.handleClick(e)},onKeyDown:function(e){return t.handleKeyDown(e)},ref:this.$input,type:a?"text":"time",value:a?c||m:u,className:[n||"",p].join(" ").trim()||void 0}),null)}}]),e}(r.a.Component),j=n(249),T=n(248),C=!1,O=function(t){var e=t.label,n=t.Input,i=t.codeString,a=Object(l.useState)("20:30"),o=Object(u.a)(a,2),s=o[0],c=o[1];return r.a.createElement("form",{style:{marginBottom:"2em"},onSubmit:function(t){return t.preventDefault()}},r.a.createElement("h2",null,e," time input"),r.a.createElement("label",{style:{display:"inline-block"}},r.a.createElement("span",{style:{marginRight:"0.5em"}},e," time input"),r.a.createElement(n,{currentValue:s,setValue:c,className:"exampleClass"})),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return c("07:15")}},"Set ",e," time to 7:15 AM"),r.a.createElement("button",{onClick:function(){return c("15:45")}},"Set ",e," time to 3:45 PM")),r.a.createElement("p",null,e,' returned value: "',s,'"'),!!i&&r.a.createElement(j.a,{style:T.a,className:"code",language:"javascript",showLineNumbers:!0},i.replace(/^\n/,"")))};var V=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"React Time Input Polyfill"),r.a.createElement("p",null,"Code examples are simplified guides, not exact code replicas."),r.a.createElement(j.a,{style:T.a,className:"code centered",language:"text",showLineNumbers:!1},"npm install react-time-input-polyfill"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/Dan503/react-time-input-polyfill#react-time-input-polyfill"},"Visit me on GitHub")),r.a.createElement(O,{label:"Non-forced polyfill",Input:function(t){var e=t.currentValue,n=t.setValue,l=t.className;return r.a.createElement(I,{value:e,onChange:function(t){var e=t.value;return n(e)},className:l,polyfillSource:C&&"./timePolyfillHelpers.js"})},codeString:"\n/* TimeInput.js */\n\nimport React from 'react'\n\n// Import the component into your project\nimport TimeInputPolyfill from 'react-time-input-polyfill'\n\nexport const TimeInput = ({ label, currentValue, onInputChange }) => {\n\treturn (\n\t\t<label>\n\t\t\t<span>{label}</span>\n\t\t\t<TimeInputPolyfill\n\n\t\t\t\t// set the value through props\n\t\t\t\tvalue={currentValue}\n\n\t\t\t\t// onChange will run every time the value is updated\n\t\t\t\tonChange={({ value, element }) => {\n\t\t\t\t\tconsole.log({\n\n\t\t\t\t\t\t// The current value in 24 hour time format\n\t\t\t\t\t\tvalue,\n\n\t\t\t\t\t\t// The <input> HTML element\n\t\t\t\t\t\telement,\n\n\t\t\t\t\t})\n\n\t\t\t\t\t// Export the new value to the parent component\n\t\t\t\t\tonInputChange(value)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</label>\n\t)\n}\n\n///////////////////////////////////////////////////\n\n/* ExampleForm.js */\n\nimport React, { useState } from 'react'\n\n// import your local time input component into your form component\nimport { TimeInput } from './TimeInput'\n\nexport const ExampleForm = ()=> {\n\n\t// Use state to keep track of the value\n\tconst [inputValue, setInputValue] = useState('20:30') // default to 8:30 PM\n\n\treturn (\n\t\t<form>\n\t\t\t<TimeInput\n\t\t\t\tlabel=\"Label text\"\n\n\t\t\t\t// Use the state value to set the time\n\t\t\t\tcurrentValue={inputValue}\n\n\t\t\t\t// Use the set state function to update the time when it changes\n\t\t\t\tonInputChange={ newValue => setInputValue(newValue) }\n\t\t\t/>\n\t\t\t<button type=\"submit\">Submit</button>\n\t\t</form>\n\t)\n}\n"}),r.a.createElement(O,{label:"Forced polyfill",Input:function(t){var e=t.currentValue,n=t.setValue;t.className;return r.a.createElement(I,{value:e,onChange:function(t){var e=t.value;return n(e)},forcePolyfill:!0,polyfillSource:C&&"./timePolyfillHelpers.js"})},codeString:"\n/* TimeInput.js */\n\nimport React from 'react'\nimport TimeInputPolyfill from 'react-time-input-polyfill'\n\nexport const TimeInput = ({ label, currentValue, onInputChange }) => {\n\treturn (\n\t\t<label>\n\t\t\t<span>{label}</span>\n\t\t\t<TimeInputPolyfill\n\t\t\t\tvalue={currentValue}\n\n\t\t\t\t/*  Force browsers that support input[type=time]\n\t\t\t\t    to use the polyfill.\n\t\t\t\t    (useful for testing and debugging)\n\t\t\t\t*/  forcePolyfill={true}\n\n\t\t\t\tonChange={({ value, element }) => {\n\t\t\t\t\tonInputChange(value)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</label>\n\t)\n}\n"}),r.a.createElement(O,{label:"Non-polyfill",Input:function(t){var e=t.currentValue,n=t.setValue,l=t.className;return r.a.createElement("input",{type:"time",value:e,onChange:function(t){return n(t.target.value)},className:l})},codeString:"\n/* TimeInput.js */\n\n// View this example in Internet Explorer\n// This is a normal time input with no polyfill applied\n\nimport React from 'react'\n\nexport const TimeInput = ({ label, currentValue, onInputChange }) => {\n\treturn (\n\t\t<label>\n\t\t\t<span>{label}</span>\n\t\t\t<input\n\t\t\t\ttype=\"time\"\n\t\t\t\tvalue={currentValue}\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tconsole.log(e) // the default browser event\n\t\t\t\t\tonInputChange(e.target.value)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</label>\n\t)\n}"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},39:function(t,e,n){t.exports=n(245)},44:function(t,e,n){},45:function(t,e,n){}},[[39,1,2]]]);
//# sourceMappingURL=main.03077436.chunk.js.map